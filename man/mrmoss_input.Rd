% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis.R
\name{mrmoss_input}
\alias{mrmoss_input}
\title{Build MR-MOSS Input from Formatted Data}
\usage{
mrmoss_input(
  exposure,
  outcomes,
  formatted_dir = NULL,
  formatted_data = NULL,
  iv_threshold = 5e-07,
  reference_prefix = NULL,
  plink_bin = NULL,
  pop = "EUR",
  clump_kb = 1000,
  clump_r2 = 0.001,
  clump_p = 0.999,
  f_min = 10,
  p_null_threshold = 1e-05,
  n2 = NULL,
  cache_dir = NULL,
  verbose = TRUE
)
}
\arguments{
\item{exposure}{Exposure trait name.}

\item{outcomes}{Outcome trait names.}

\item{formatted_dir}{Directory with formatted trait files. Ignored when
`formatted_data` is provided.}

\item{formatted_data}{Optional named list of formatted trait data.frames or
data.tables. Each element must contain `SNP`, `A1`, `A2`, `Z`, `N`, `P`.}

\item{iv_threshold}{Instrument p-value threshold for clumping.}

\item{reference_prefix}{Optional PLINK reference prefix for local clumping.
If `NULL`, online OpenGWAS clumping is used via `ieugwasr`.}

\item{plink_bin}{Optional PLINK binary path for local clumping.}

\item{pop}{Population code for clumping.}

\item{clump_kb}{LD window size.}

\item{clump_r2}{LD r2 threshold.}

\item{clump_p}{Secondary clumping p-value threshold.}

\item{f_min}{Minimum F statistic for instruments.}

\item{p_null_threshold}{Threshold for null SNPs in outcome-correlation estimation.}

\item{n2}{Optional outcome sample size. Default is mean outcome N.}

\item{cache_dir}{Optional cache directory to save per-outcome clumped inputs.}

\item{verbose}{Whether to print progress.}
}
\value{
A list containing `gamma_hat`, `Gamma_hat`, `R`, and metadata.
}
\description{
Builds the clumped and harmonized MR-MOSS input for one exposure and
multiple outcomes.
}
